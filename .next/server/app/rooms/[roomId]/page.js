(()=>{var e={};e.id=947,e.ids=[947],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},1667:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=t(482),a=t(9108),n=t(2563),o=t.n(n),l=t(8300),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(r,i);let c=["",{children:["rooms",{children:["[roomId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8515)),"/Users/pratikturakhia/Documents/Projects/CamRecorder/src/app/rooms/[roomId]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,2725)),"/Users/pratikturakhia/Documents/Projects/CamRecorder/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/pratikturakhia/Documents/Projects/CamRecorder/src/app/rooms/[roomId]/page.tsx"],u="/rooms/[roomId]/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/rooms/[roomId]/page",pathname:"/rooms/[roomId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2366:(e,r,t)=>{Promise.resolve().then(t.bind(t,7577))},7577:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(5344),a=t(3729);let n=()=>{let[e,r]=(0,a.useState)(0),t=(0,a.useRef)(null);return(0,a.useEffect)(()=>()=>{null!==t.current&&clearInterval(t.current)},[]),{seconds:e,startTimer:(0,a.useCallback)(()=>{null===t.current&&(t.current=window.setInterval(()=>{r(e=>e+1)},1e3))},[]),pauseTimer:(0,a.useCallback)(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[]),resetTimer:(0,a.useCallback)(()=>{null!==t.current&&clearInterval(t.current),t.current=null,r(0)},[])}};var o=t(1453);let l=()=>{let[e,r]=(0,a.useState)(!0),[t,l]=(0,a.useState)(!1),[i,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[m,p]=(0,a.useState)([]),[x,f]=(0,a.useState)(null),h=(0,a.useRef)(null),v=(0,a.useRef)(null),{seconds:g,startTimer:j,pauseTimer:b,resetTimer:y}=n();(0,a.useEffect)(()=>{"MediaRecorder"in window?navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(e=>{r(!0);let t=h.current;t.srcObject=e,u(e),t.addEventListener("loadedmetadata",()=>{t.play()})},()=>{r(!1)}):alert("Not supported.")},[]);let w=(0,a.useCallback)(()=>{l(!0);let e=new MediaRecorder(d,{mimeType:"video/webm"});v.current=e,v.current.start(),j();let r=[];v.current.ondataavailable=e=>{e.data.size>0&&r.push(e.data)},p(r)},[d,j]),k=(0,a.useCallback)(()=>{c(!0),v.current?.pause(),b()},[b]),P=(0,a.useCallback)(()=>{c(!1),v.current?.resume(),j()},[j]),N=(0,a.useCallback)(()=>{d&&(d.getTracks().forEach(e=>e.stop()),u(null),h.current&&(h.current.srcObject=null)),l(!1),y(),v.current&&(v.current?.stop(),v.current.onstop=()=>{let e=new Blob(m,{type:"video/webm"});f(URL.createObjectURL(e))})},[d,m,y]);return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[x?(0,s.jsxs)("div",{className:" flex flex-col items-center justify-center border rounded-md p-12 w-[890px] h-auto",children:[s.jsx("video",{src:x,className:"h-auto w-full",controls:!0}),(0,s.jsxs)("div",{className:"flex gap-4  items-center justify-center w-full p-7",children:[s.jsx("button",{className:"border rounded-md shadow px-4 py-2",onClick:()=>{window.location.reload()},children:"\uD83E\uDC60 Record another video"}),s.jsx("a",{className:"border rounded-md shadow px-4 py-2 font-bold",download:!0,href:x,children:"â¬‡ Download"})]})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[!e&&s.jsx("div",{className:"text-red-700 font-bold text-xl",children:"Please grant audio / video permission and reload."}),s.jsx("div",{className:"",children:s.jsx("video",{className:"h-full w-[890px] rounded-lg",ref:h})}),s.jsx("div",{className:"border rounded-3xl px-8 py-2 mt-10 flex items-center justify-center border-indigo-700",children:t?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"pr-4 opacity-60",children:"Recording"}),i?s.jsx("img",{onClick:P,src:"/play.svg",alt:"play",className:"h-9 w-auto cursor-pointer"}):s.jsx("img",{onClick:k,src:"/pause.svg",alt:"pause",className:"h-9 w-auto cursor-pointer"}),s.jsx("img",{onClick:N,src:"/stop.svg",alt:"stop",className:"h-9 w-auto cursor-pointer"}),s.jsx("div",{className:"pl-4 opacity-60",children:(0,o.m)(g)})]}):s.jsx("div",{onClick:w,children:s.jsx("div",{className:" flex text-center border-l-2 text-4xl font-extrabold",children:"Record"})})})]}),s.jsx("div",{className:"absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[calc(100%-30rem)]","aria-hidden":"true",children:s.jsx("div",{className:"relative left-[calc(50%+3rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%+36rem)] sm:w-[72.1875rem]",style:{clipPath:"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"}})})]})}},8515:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(5036);let a=(0,t(6843).createProxy)(String.raw`/Users/pratikturakhia/Documents/Projects/CamRecorder/src/app/rooms/[roomId]/video-player.tsx`),{__esModule:n,$$typeof:o}=a,l=a.default;async function i(e){return s.jsx("div",{className:"min-h-screen",children:s.jsx("div",{className:"col-span-3 p-4 pr-2",children:s.jsx(l,{})})})}},3881:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,405,337,336],()=>t(1667));module.exports=s})();