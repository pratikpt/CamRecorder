(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[947],{6676:function(e,r,t){Promise.resolve().then(t.bind(t,3362))},3362:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return c}});var l=t(7437),a=t(2265),s=()=>{let[e,r]=(0,a.useState)(0),t=(0,a.useRef)(null);return(0,a.useEffect)(()=>()=>{null!==t.current&&clearInterval(t.current)},[]),{seconds:e,startTimer:(0,a.useCallback)(()=>{null===t.current&&(t.current=window.setInterval(()=>{r(e=>e+1)},1e3))},[]),pauseTimer:(0,a.useCallback)(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[]),resetTimer:(0,a.useCallback)(()=>{null!==t.current&&clearInterval(t.current),t.current=null,r(0)},[])}},n=t(2169),c=()=>{let[e,r]=(0,a.useState)(!0),[t,c]=(0,a.useState)(!1),[u,o]=(0,a.useState)(!1),[i,d]=(0,a.useState)(null),[m,f]=(0,a.useState)([]),[p,x]=(0,a.useState)(null),v=(0,a.useRef)(null),h=(0,a.useRef)(null),{seconds:b,startTimer:j,pauseTimer:w,resetTimer:N}=s();(0,a.useEffect)(()=>{"MediaRecorder"in window?navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(e=>{r(!0);let t=v.current;t.srcObject=e,d(e),t.addEventListener("loadedmetadata",()=>{t.play()})},()=>{r(!1)}):alert("Not supported.")},[]);let g=(0,a.useCallback)(()=>{c(!0);let e=new MediaRecorder(i,{mimeType:"video/webm"});h.current=e,h.current.start(),j();let r=[];h.current.ondataavailable=e=>{e.data.size>0&&r.push(e.data)},f(r)},[i,j]),y=(0,a.useCallback)(()=>{var e;o(!0),null===(e=h.current)||void 0===e||e.pause(),w()},[w]),k=(0,a.useCallback)(()=>{var e;o(!1),null===(e=h.current)||void 0===e||e.resume(),j()},[j]),C=(0,a.useCallback)(()=>{if(i&&(i.getTracks().forEach(e=>e.stop()),d(null),v.current&&(v.current.srcObject=null)),c(!1),N(),h.current){var e;null===(e=h.current)||void 0===e||e.stop(),h.current.onstop=()=>{let e=new Blob(m,{type:"video/webm"});x(URL.createObjectURL(e))}}},[i,m,N]);return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[p?(0,l.jsxs)("div",{className:" flex flex-col items-center justify-center border rounded-md p-12 w-[890px] h-auto",children:[(0,l.jsx)("video",{src:p,className:"h-auto w-full",controls:!0}),(0,l.jsxs)("div",{className:"flex gap-4  items-center justify-center w-full p-7",children:[(0,l.jsx)("button",{className:"border rounded-md shadow px-4 py-2",onClick:()=>{window.location.reload()},children:"\uD83E\uDC60 Record another video"}),(0,l.jsx)("a",{className:"border rounded-md shadow px-4 py-2 font-bold",download:!0,href:p,children:"â¬‡ Download"})]})]}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[!e&&(0,l.jsx)("div",{className:"text-red-700 font-bold text-xl",children:"Please grant audio / video permission and reload."}),(0,l.jsx)("div",{className:"",children:(0,l.jsx)("video",{className:"h-full w-[890px] rounded-lg",ref:v})}),(0,l.jsx)("div",{className:"border rounded-3xl px-8 py-2 mt-10 flex items-center justify-center border-indigo-700",children:t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"pr-4 opacity-60",children:"Recording"}),u?(0,l.jsx)("img",{onClick:k,src:"/play.svg",alt:"play",className:"h-9 w-auto cursor-pointer"}):(0,l.jsx)("img",{onClick:y,src:"/pause.svg",alt:"pause",className:"h-9 w-auto cursor-pointer"}),(0,l.jsx)("img",{onClick:C,src:"/stop.svg",alt:"stop",className:"h-9 w-auto cursor-pointer"}),(0,l.jsx)("div",{className:"pl-4 opacity-60",children:(0,n.m)(b)})]}):(0,l.jsx)("div",{onClick:g,children:(0,l.jsx)("div",{className:" flex text-center border-l-2 text-4xl font-extrabold",children:"Record"})})})]}),(0,l.jsx)("div",{className:"absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[calc(100%-30rem)]","aria-hidden":"true",children:(0,l.jsx)("div",{className:"relative left-[calc(50%+3rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%+36rem)] sm:w-[72.1875rem]",style:{clipPath:"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"}})})]})}},2169:function(e,r,t){"use strict";t.d(r,{cn:function(){return s},m:function(){return n}});var l=t(3167),a=t(1367);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,l.W)(r))}let n=e=>{let r=String(Math.floor(e/60)).padStart(2,"0"),t=String(e%60).padStart(2,"0");return"".concat(r,":").concat(t)}}},function(e){e.O(0,[150,971,69,744],function(){return e(e.s=6676)}),_N_E=e.O()}]);